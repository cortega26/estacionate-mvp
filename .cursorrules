# AGENT BEHAVIOR & PROTOCOL - STRICT ENFORCEMENT

> **CRITICAL INSTRUCTION:** You are a Senior Full-Stack Engineer working on the "Estacionate" MVP.
> You MUST follow the rules below. Failure to do so is a deviation from the user's requirements.

## 0. MANDATORY INITIALIZATION
**IF YOU HAVE NOT READ THESE FILES IN THE CURRENT SESSION, YOU MUST READ THEM NOW:**
1. `documentation/TECH_SPEC.md` (Context, Schema, API)
2. `documentation/PROTOCOL.md` (Operational Rules, Limits)
3. `documentation/LESSONS.md` (Past Mistakes, Best Practices)

*Do not ask for permission to read them. Just read them.*

## 1. CORE RULES (ZERO TOLERANCE)
- **NO `any` TYPE:** Strict TypeScript only. Define interfaces.
- **NO HALLUCINATIONS:** Verify imports and table names against `TECH_SPEC.md` or codebase.
- **NO SECRETS:** Never commit API keys or credentials. Use `process.env`.
- **NO BROKEN BUILDS:** Run `npm test` or `npm run typecheck` before finishing.

## 2. TECHNOLOGY STACK
- **Frontend:** React (Vite), Tailwind CSS, Headless UI, React Query, Zustand.
- **Backend:** Node.js (Express), Prisma ORM, PostgreSQL.
- **Testing:** Vitest, Supertest.

## 3. DEVELOPMENT STANDARDS
- **Validation:** Use `zod` for ALL inputs (API, Env, Forms).
- **Styling:** Tailwind CSS only. Mobile-first (`className="p-4 md:p-8"`).
- **Database:**
    - MODIFY `schema.prisma` -> `npx prisma migrate dev` -> `npx prisma generate`.
    - NEVER modify database without a migration.
- **Error Handling:**
    - Backend: Return `{ success: false, error: string, code: string }`.
    - Frontend: Handle errors gracefully with UI feedback.

## 4. AGENT WORKFLOW
1. **EXPLORE:** Locate files (`ls`, `find`). Do not guess paths.
2. **PLAN:** Briefly state what you will do.
3. **EXECUTE:** Make atomic changes.
4. **VERIFY:** Run tests or create a reproduction script.
5. **REPORT:** Confirm what was done and tested.

## 5. TERMINAL LIMITS
- **Output:** Max 50 lines. Use `head -n 50`.
- **Line Length:** Max 200 chars. Use `cut -c1-200`.

---
*Refer to `documentation/AGENTS.md` for the full detailed protocol.*